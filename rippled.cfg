# This is the rippled configuration for validator {{validator_uuid}}
# Do not edit by hand, as this is handled by the altnet-ansible playbooks.
[server]
port_peer
port_rpc
port_ws

[port_peer]
port = 51235
ip = 0.0.0.0
protocol = peer

[port_rpc]
port = 51234
ip = 0.0.0.0
admin = allow
protocol = http

[port_ws]
port = 51233
ip = 0.0.0.0
admin = allow
protocol = ws

[peer_private]
1

[websocket_secure]
0

[node_size]
large

[debug_logfile]
/mnt/rippled/log/debug.log

[validation_quorum]
{{validation_quorum}}

[peers_max]
64

[fetch_depth]
128

[ledger_history]
256

[ssl_verify]
0

[sntp_servers]
time.windows.com
time.apple.com
time.nist.gov
pool.ntp.org

[rpc_allow_remote]
1

[node_db]
type=nudb
path=/mnt/rippled/db/nudb

[database_path]
/mnt/rippled/db

[rpc_startup]
{"command": "log_level", "severity": "warning"}

{% if validator_private_key %}
[validation_seed]
{{validator_private_key}}
{% endif %}

{% if validator_key %}
[validation_public_key]
{{validator_key}}
{% endif %}

[validators]
{% for peer in validator_peers %}
{% if peer.uuid != validator_uuid %}
#{{peer.uuid}}
{{peer.key}}
{% endif %}
{% endfor %}

[ips_fixed]
{% for peer in validator_peers %}
{% if peer.uuid != validator_uuid %}
#{{peer.uuid}}
{{peer.ip}} {{peer.port}}
{% endif %}
{% endfor %}
